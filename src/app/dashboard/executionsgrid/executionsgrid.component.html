<app-filter-ops
  title="{{ 'allexecutions' | translate }}"
  [isLoading]="isLoading"
  (overviewParams)="setOverviewParams($event)"
></app-filter-ops>

<div *ngIf="dsOverview" class="executions-grid">
  <span class="grid-header">
    {{ 'datasetname' | translate }}
  </span>
  <span class="grid-header">
    {{ 'workflows' | translate }}
  </span>
  <span class="grid-header">
    {{ 'processed-records' | translate }}
  </span>
  <span class="grid-header">
    {{ 'starttime' | translate }}
  </span>
  <span class="grid-header last-header">
    {{ 'endtime' | translate }}
  </span>
  <ng-container *ngFor="let dsExecution of dsOverview">
    <app-gridrow
      #wrapper
      [expanded]="dsExecution.execution.id === selectedDsId"
      [dsExecution]="dsExecution"
      (closeExpanded)="setSelectedDsId($event)"
    ></app-gridrow>
    <ng-content *ngTemplateOutlet="wrapper.childComponentTemplate"></ng-content>
  </ng-container>
  <span
    class="no-content-message"
    *ngIf="overviewParams && (dsOverview.length === 0)"
  >
    {{ 'nofiltermatch' | translate }}
  </span>
</div>

<div class="grid-footer">
  <a class="load-more-btn" (click)="loadNextPage()" *ngIf="hasMore">{{ 'loadmore' | translate }}</a
  ><span class="svg-icon-spin" [class.showing]="isLoadingMore"></span>
</div>
