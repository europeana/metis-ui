<div>
  <a class="btn" routerLink="/dataset/workflow/{{ datasetId }}" *ngIf="!workflowData">{{
    'addworkflow' | translate
  }}</a>
  <app-loading-button
    *ngIf="workflowData && workflowStatus !== 'INQUEUE' && workflowStatus !== 'RUNNING'"
    [classes]="'btn'"
    [isLoading]="isStarting"
    [title]="'run workflow' | translate"
    [loadingTitle]="'starting' | translate"
    (click)="startWorkflow.emit()"
  ></app-loading-button>

  <div
    class="progress"
    *ngIf="workflowData && (workflowStatus === 'INQUEUE' || workflowStatus === 'RUNNING')"
  >
    <div class="progress-status">
      <span class="progress-statusnumbers">{{ 'overallprogress' | translate }}</span>
      <span class="progress-percentage"
        >{{ 'step' | translate }} {{ currentPlugin }}/{{ totalPlugins }}</span
      >
    </div>
    <div class="progressbar">
      <div
        class="progressbar-done"
        [style.width.%]="pluginPercentage >= 0 ? pluginPercentage : 0"
      ></div>
    </div>
  </div>
</div>
